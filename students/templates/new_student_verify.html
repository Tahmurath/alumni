{% extends "blog_base.html" %}
{% load i18n %}
{% load static %}
{% load jalali_tags %}
{% load getattribute %}

{% block content %}


<table class="table table-striped table-hover">
    <tbody>
    <tr>
        <th scope="row">{{ form_view.first_name.label }}</th>
        <td>{{ user.first_name }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_view.last_name.label }}</th>
        <td>{{ user.last_name }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_view.person_melli_code.label }}</th>
        <td>{{ user.person_melli_code }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_view.person_shen_number.label }}</th>
        <td>{{ user.person_shen_number }}</td>
    </tr>
    <tr>
        <th scope="row">{% trans 'Centers' %}</th>
        <td>{% for student in user.student_set.all %}
            <p>( {{ student.center.center_title }} - {{ student.field.field_title }} ){% if forloop.last == False %}, {% endif %}</p>
            {% endfor %}</td>
    </tr>
    </tbody>
</table>

{% if verif %}

<h1>{% trans 'student information to be verified:' %}</h1>

<table class="table table-striped table-hover table-dark">
    <thead>
        <tr>
            <th></th>
            <th>{% trans 'Entry' %}</th>
            <th>{% trans 'Verified' %}</th>
        </tr>
    </thead>
    <tbody>
    <tr>
        <th scope="row">{{ form_verif.first_name.label }}</th>
        <td>{{ verif.first_name }}</td>
        <td>{{ verif.first_name }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_verif.last_name.label }}</th>
        <td>{{ verif.last_name }}</td>
        <td>{{ verif.last_name }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_verif.person_father_name.label }}</th>
        <td>{{ verif.person_father_name }}</td>
        <td>{{ verif.person_father_name }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_verif.person_shen_number.label }}</th>
        <td>{{ verif.person_shen_number }}</td>
        <td>{{ verif.person_shen_number }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_verif.person_born_date.label }}</th>
        <td>{{ verif.person_born_date }}</td>
        <td>{{ verif.person_born_date }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_verif.person_melli_code.label }}</th>
        <td>{{ verif.person_melli_code }}</td>
        <td>{{ verif.person_melli_code }}</td>
    </tr>
    <tr>
        <th scope="row">{{ form_verif.mobile_number.label }}</th>
        <td>{{ verif.hided_phone }}</td>
        <td></td>
    </tr>

    </tbody>
</table>


{% if verified %}
<form action="/students/student/{{ verif.person_id }}/newstdcontinue" method="post">
    {% csrf_token %}

    <button type="submit">{% trans 'Continue' %}</button>
</form>


{% else %}

{% endif %}


{% else %}
<h1>{% trans 'verify correct student information' %}</h1>



{{ form_verif.media }}
<form action="" method="post">
    {% csrf_token %}
    <table class="table table-striped table-hover table-dark">
        {{ form_verif.as_table }}
    </table>
    <input type="submit" value="{% trans 'Submit' %}">
</form>
{% endif %}

{#    <table class="table table-striped table-hover">#}
    {##}
    {#        <tbody>#}
    {#        {% for field in form %}#}
    {#            <tr>#}
        {#                <th scope="row">{{ field.label }}</th>#}
        {#                <td>{{ user|getattribute:field.name }}</td>#}
        {#            </tr>#}
    {#        {% endfor %}#}
    {#        </tbody>#}
    {#    </table>#}


{#    #}
{% endblock %}